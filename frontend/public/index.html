<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Simple CRUD App</title>
</head>
<body>
    <div id="root"></div>
    <!-- React will mount here -->
</body>
</html>
    </form>
    <ul id="items-list"></ul>
    <script>
        const apiUrl = 'http://localhost:3001/api/items';

        function fetchItems() {
            fetch(apiUrl)
                .then(res => res.json())
                .then(items => {
                    const list = document.getElementById('items-list');
                    list.innerHTML = '';
                    items.forEach(item => {
                        const li = document.createElement('li');
                        li.textContent = `${item.name}: ${item.description || ''}`;
                        const editBtn = document.createElement('button');
                        editBtn.textContent = 'Edit';
                        editBtn.onclick = () => editItem(item);
                        const delBtn = document.createElement('button');
                        delBtn.textContent = 'Delete';
                        delBtn.onclick = () => deleteItem(item.id);
                        li.appendChild(editBtn);
                        li.appendChild(delBtn);
                        list.appendChild(li);
                    });
                });
        }

        function editItem(item) {
            document.getElementById('item-id').value = item.id;
            document.getElementById('item-name').value = item.name;
        }

        function deleteItem(id) {
            fetch(`${apiUrl}/${id}`, { method: 'DELETE' })
                .then(() => fetchItems());
        }

        document.getElementById('item-form').onsubmit = function(e) {
            e.preventDefault();
            const id = document.getElementById('item-id').value;
            const name = document.getElementById('item-name').value;
            const description = document.getElementById('item-desc').value;
            const method = id ? 'PUT' : 'POST';
            const url = id ? `${apiUrl}/${id}` : apiUrl;
            fetch(url, {
                method,
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ name, description })
            }).then(() => {
                document.getElementById('item-form').reset();
                fetchItems();
            });
        };

        fetchItems();
    </script>
</body>
</html>
